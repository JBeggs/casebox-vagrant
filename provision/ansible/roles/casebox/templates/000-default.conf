<VirtualHost *:80>
    ServerAdmin admin@domain.com

    DocumentRoot /var/www/html/casebox/httpsdocs
    CustomLog /var/www/html/casebox/logs/casebox-access.log common
    ErrorLog  /var/www/html/casebox/logs/casebox-error.log

    Header add Strict-Transport-Security "max-age=15768000"

    Header add X-Content-Type-Options no-sniff
    Header add X-Download-Options noopen
    Header add X-XSS-Protection "1; mode=block"

    <Directory /var/www/html/casebox/httpsdocs>
        <IfModule mod_php5.c>
            php_admin_flag engine on
            php_admin_flag safe_mode off

            php_admin_value open_basedir "/var/www/html/casebox/:/usr/lib64/libreoffice:/tmp"
            php_admin_value max_execution_time 300
            php_admin_value short_open_tag off
            php_admin_value upload_max_filesize 200M
            php_admin_value post_max_size 200M
            php_admin_value max_file_uploads 20
            php_admin_value memory_limit 200M
            php_admin_value expose_php Off
        </IfModule>

        Options -Includes -ExecCGI
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin admin@domain.com

    DocumentRoot /var/www/html/casebox/httpsdocs
    CustomLog /var/www/html/casebox/logs/casebox_ssl-access.log common
    ErrorLog  /var/www/html/casebox/logs/casebox_ssl-error.log

    SSLEngine on
    SSLVerifyClient none

    SSLCertificateFile /var/www/html/casebox/install/httpd/ssl/casebox.crt
    SSLCertificateKeyFile /var/www/html/casebox/install/httpd/ssl/casebox.key

    SSLProtocol All -SSLv2 -SSLv3
    SSLCipherSuite ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA:!RC4:HIGH:!MD5:!aNULL:!EDH

    SSLHonorCipherOrder on

    Header add Strict-Transport-Security "max-age=15768000"
    Header add X-Content-Type-Options no-sniff
    Header add X-Download-Options noopen
    Header add X-XSS-Protection "1; mode=block"

    <Directory /var/www/html/casebox/httpsdocs>
        <IfModule mod_php5.c>
            php_admin_flag engine on
            php_admin_flag safe_mode off

            php_admin_value open_basedir "/var/www/html/casebox/:/usr/lib64/libreoffice:/tmp"
            php_admin_value max_execution_time 300
            php_admin_value short_open_tag off
            php_admin_value upload_max_filesize 200M
            php_admin_value post_max_size 200M
            php_admin_value max_file_uploads 20
            php_admin_value memory_limit 200M
            php_admin_value expose_php Off
        </IfModule>

        SSLRequireSSL
        Options -Includes -ExecCGI
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>